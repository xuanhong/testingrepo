/*!
 * Copyright 2010, xenStyles All Rights Reserved.
 * http://xenStyles.com
 * This file may not be redistributed in whole or significant part without prior consent from xenStyles.
 * Version: 1.00
 * Last Modified: Wednesday, 27 October 2010
 */

function changeSideBar(a, d, b) {
    $.setCookie("sidebar", a);
    $(d).text((a) ? "Open Sidebar" : "Close Sidebar");
    var c = (a) ? {
        content: "0px",
        container: "0px"
    } : {
        content: "260px",
        container: "-260px"
    };
    if (!b) {
        (a) ? $(".sidebar").hide() : $(".sidebar").show();
        (!a) ? $(d).toggleClass("armed") : "";
        $(".mainContent").css({
            marginRight: c.content
        });
        $(".mainContainer").css({
            marginRight: c.container
        });
        return
    }
    if (a) {
        $(d).stop().toggleClass("armed");
        $(".sidebar").animate({
            opacity: "0"
        }, 300).delay(300).hide("fast");
        $(".mainContent").delay(400).animate({
            marginRight: c.content
        }, 450);
        $(".mainContainer").delay(1200).animate({
            marginRight: c.container
        }, 0);
        $('.mainContent').trigger('XenForoResize');
    } else {
        $(d).stop().toggleClass("armed");
        $(".mainContainer").animate({
            marginRight: "-260px"
        }, 0);
        $(".mainContent").animate({
            marginRight: c.content
        }, 450);
        $(".sidebar").delay(400).fadeTo("600", 1);
        $('.mainContent').trigger('XenForoResize');
    }
}
$(function () {
    changeSideBar(eval($.getCookie("sidebar")), ".sidebar_toggle", false);
    $(".sidebar_toggle").click(function () {
        changeSideBar($(".sidebar").is(":visible"), this, true);
        return false
    });
    $('.mainContent').trigger('XenForoResize');
});